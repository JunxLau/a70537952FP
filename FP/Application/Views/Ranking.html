<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Ranking</title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../Helper/footable-standalone.latest/css/footable.standalone.css">

    <!-- Bootstrap core CSS -->
    <link href="../../Public/css/bootstrap1.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../Public/css/MDB PRO 4.2.0.css">
    <!-- Material Design Bootstrap-->
    <link href="../../Public/css/mdb.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../Public/css/overViewDemo.css">

    <link rel="stylesheet" href="../../Public/css/ranking.css">


    <!-- SCRIPTS -->
    <!-- JQuery -->

    <script src="../../Public/js/jquery-3.1.1.min.js"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- Tooltips -->
    <script type="text/javascript" src="../../Public/js/tether.min.js"></script>
    <!-- Bootstrap core JavaScript -->

    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="../../Public/js/mdb.min.js"></script>
    <script src="../../Helper/footable-standalone.latest/js/footable.min.js"></script>

    <script type="text/javascript" src="../../Helper/Chart.js-master/src/chart.js"></script>
    <script src="../../Helper/js-cookie-1.5.1/src/js.cookie.js"></script>
    <script src="../../Public/js/moment.js"></script>
    <script src="../../Public/js/ranking.js"></script>
</head>
<body class="fixed-sn hideXScroll red-skin">
<header>

    <!-- Sidebar navigation -->
    <ul id="mySidenav" class="side-nav fixed sidenav" style="z-index: 11;">

<span id="navControl" class="collapsible-header waves-effect"
      style="font-size:30px;cursor:pointer;text-align: center;display: inline-block;width:100%;margin-top: 10px;"
      onclick="setNav()">&#9776; </span>
<!-- Logo -->
<li id="userLogo" style="display: none;">
    <div class="logo-wrapper waves-light sn-avatar-wrapper">
        <a href="Application/Controllers/UserProfile.php">
            <img src="<?php echo " ../../Public/uploads/".$jj->UserImage;?>" class="img-circle">
        </a>
    </div>
</li>
<!--/. Logo -->

<!--Social-->
<!--RED,PURPLE,DARK,MDB,GRAPHITE,PINK-->
<li id="colorStyle" style="display: none">
    <ul class="social">
        <li><a class="icons-sm fb-ic" onclick="changeStyle('red')"><i class="fa fa-square" style="color: #900"> </i></a></li>
        <li><a class="icons-sm git-ic" onclick="changeStyle('purple')"><i class="fa fa-square" style="color: #54057d"> </i></a></li>
        <li><a class="icons-sm li-ic" onclick="changeStyle('green')"><i class="fa fa-square" style="color: #003830"> </i></a></li>
        <li><a class="icons-sm yt-ic" onclick="changeStyle('mdb')"><i class="fa fa-square" style="color: #3f729b"> </i></a></li>
        <li><a class="icons-sm gplus-ic" onclick="changeStyle('graphite')"><i class="fa fa-square" style="color: #37474f"> </i></a></li>
        <li><a class="icons-sm li-ic" onclick="changeStyle('pink')"><i class="fa fa-square" style="color: #ab1550"> </i></a></li>

    </ul>
</li>


<!--/Social-->

<!-- Side navigation links -->
<li id="sideNavItem" style="display: none">
    <ul class="collapsible collapsible-accordion">
        <li><a href="../../index.php" collapsible-header waves-effect"><i
                class="fa fa-home"></i>Home</i></a></li>
        <li><a href="UserProfile.php" collapsible-header waves-effect"><i
                class="fa fa-user"></i>Profile</i></a></li>
        <li><a href="Ranking.php" class="collapsible-header waves-effect"><i class="fa fa-table"></i>Ranking</i></a></li>

        <!-- <li><a class="collapsible-header waves-effect"><i class="fa fa-bar-chart"></i>Marketing</i></a></li>
         <li><a class="collapsible-header waves-effect"><i class="fa fa-pencil"></i> Contact</i></a></li>
         <li><a class="collapsible-header waves-effect"><i class="fa fa-user"></i> About</i></a></li>-->
    </ul>
</li>

<!--/. Side navigation links -->


</ul>

<!--/. Sidebar navigation -->

<!--Navbar-->
<nav class="navbar navbar-fixed-top scrolling-navbar double-nav main col-lg-12 col-md-12 col-sm-12"
     style="padding-left: 100px;z-index: 10; transition: 0.5s;">

    <!-- SideNav slide-out button -->


    <!-- Breadcrumb-->
    <div class="breadcrumb-dn">
        <p>Welcome,</p>
    </div>


    <ul onclick="showLogout()"id="profile" class="nav navbar-nav pull-right  ">


        <li id="logout"class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown"
               aria-haspopup="true" aria-expanded="false"><i class="fa fa-user"></i> <?php echo $jj->
                FirstName;?></a>
            <div class="dropdown-menu dropdown-primary dd-right" aria-labelledby="dropdownMenu1"
                 data-dropdown-in="fadeIn" data-dropdown-out="fadeOut">

                <a class="dropdown-item"
                   href="Logout.php">Logout</a>
            </div>
        </li>
    </ul>

</nav>
<!--/.Navbar-->

</header>

<div id="wrapper" class="wrapper transition">
    <p class="UserRank">Today Expense Ranking: #<?php echo $UserTodayExpenseRankingObject->rank;?></p>
    <div class="TodayExpenseRanking transition">
        <p class="title">Today Expense Ranking</p>
        <?php

           echo "<table class=\"tableExpense\" data-paging=\"true\" data-sorting=\"true\" data-paging-size=\"10\" >
        ";
        echo "
        <thead>";

        echo "
        <th data-type=\"number\">Rank</th>
        ";

        echo "
        <th data-type=\"text\">User Name</th>
        ";

        echo "
        <th data-type=\"decimals\">Debts</th>
        ";
        echo "
        <th data-type=\"decimals\">Entertainment</th>
        ";
        echo "
        <th data-type=\"decimals\">Fixed expenses</th>
        ";
        echo "
        <th data-type=\"decimals\">Food & beverage</th>
        ";
        echo "
        <th data-type=\"decimals\">Others</th>
        ";
        echo "
        <th data-type=\"decimals\">Transport</th>
        ";


        echo "
        <th data-type=\"decimals\">Total Expense Amount</th>
        ";



        echo "
        </thead>
        ";

        echo "
        <tbody>";

        foreach ($TotalExpenseRanking as $key => $value) {
        echo "
        <tr>";
            echo "
            <td>".$value->rank."</td>
            ";


            $user = $userModel->getUserByID($key);
            echo "
            <td>".$user->FirstName.$user->LastName."</td>
            ";

            $TodayExpenseGroup = $expenseModel->getTodayExpenseGroupByUserID($value->User_ID);

            echo "<td>";
                echo array_key_exists("Debts", $TodayExpenseGroup)?$TodayExpenseGroup["Debts"]:"0.00";
                echo "</td>";

            echo "<td>";
                echo array_key_exists("Entertainment", $TodayExpenseGroup)?$TodayExpenseGroup["Entertainment"]:"0.00";
                echo "</td>";

            echo "<td>";
                echo array_key_exists("Fixed expenses", $TodayExpenseGroup)?$TodayExpenseGroup["Fixed expenses"]:"0.00";
                echo "</td>";

            echo "<td>";
                echo array_key_exists("Food & beverage", $TodayExpenseGroup)?$TodayExpenseGroup["Food & beverage"]:"0.00";
                echo "</td>";

            echo "<td>";
                echo array_key_exists("Others", $TodayExpenseGroup)?$TodayExpenseGroup["Others"]:"0.00";
                echo "</td>";

            echo "<td>";
                echo array_key_exists("Transport", $TodayExpenseGroup)?$TodayExpenseGroup["Transport"]:"0.00";
                echo "</td>";








            echo "
            <td>".$value->Total_Expense_Amount."</td>
            ";

            echo "
        </tr>
        ";


        }
        echo "
        </tbody>
        ";
        echo "</table>";

        ?>
        <hr class="tableHR">


    </div>
    <p class="UserRank">Today Income Ranking: #<?php echo $UserTodayIncomeRankingObject->rank;?></p>
    <div class="TodayIncomeRanking transition">
        <p class="title">Today Income Ranking</p>
        <?php

           echo "<table class=\"tableExpense\" data-paging=\"true\" data-sorting=\"true\" data-paging-size=\"10\" >
        ";
        echo "
        <thead>";

        echo "
        <th data-type=\"number\">Rank</th>
        ";

        echo "
        <th data-type=\"text\">User Name</th>
        ";

        echo "
        <th data-type=\"decimals\">Fixed Salary</th>
        ";
        echo "
        <th data-type=\"decimals\">Other Income</th>
        ";



        echo "
        <th data-type=\"decimals\">Total Income Amount</th>
        ";



        echo "
        </thead>
        ";

        echo "
        <tbody>";
        $rankNum = 1 ;
        foreach ($TotalIncomeRanking as $key => $value) {
        echo "
        <tr>";
            echo "
            <td>".$value->rank."</td>
            ";
            $rankNum+=1;

            $user = $userModel->getUserByID($value->User_ID);
            echo "
            <td>".$user->FirstName.$user->LastName."</td>
            ";

            $TodayIncomeGroup = $incomeModel->getTodayIncomeGroupByUserID($key);



            echo "<td>";
                echo array_key_exists("Fixed Salary", $TodayIncomeGroup)?$TodayIncomeGroup["Fixed Salary"]:"0.00";
                echo "</td>";

            echo "<td>";
                echo array_key_exists("Other", $TodayIncomeGroup)?$TodayIncomeGroup["Other"]:"0.00";
                echo "</td>";








            echo "
            <td>".$value->Total_Income_Amount."</td>
            ";

            echo "
        </tr>
        ";


        }
        echo "
        </tbody>
        ";
        echo "</table>";

        ?>
        <hr class="tableHR">


    </div>

</div>

</body>
</html>